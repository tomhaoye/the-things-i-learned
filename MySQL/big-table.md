# 大表对数据库性能的影响
- 大表(根据情况而定)
	- 记录行单表超过千万行
	- 表数据文件超过10G
- 大表对DDL操作的影响
	- 修改表结构需要长时间锁表
		- 造成长时间的主从延迟
		- 影响正常的数据操作

# 如何处理数据库中的大表
- 分库分表把一张大表分成多个小表
	- 分表主键的选择
	- 跨分区数据的查询和统计
-  大表的历史数据归档，归档的数据一般很少再使用，减少对前后端业务的影响
	- 归档时间的选择
	- 如何进行归档操作
	
# 事务
- 事务是数据库系统区别于其他一切文件系统的重要特性之一
- 事务是一组具有原子性的SQL语句，或是一个独立的工作单元

- 事务
	- 原子性：一个事务必须被视为一个不可分割的最小工作单元，整个事务中的所有操作要么全部提交成功，要么全部失败，对于一个事务来说，不可能只执行其中的一部分操作
	- 一致性：指事务将数据库从一种一致性状态转换到另外一种一致性状态，在事务开始之前和事务结束之后数据库中数据的完整性没有被破坏
	- 隔离性：要求一个事务对数据库中数据的修改，在未提交完成钱对其他事务是不可见的
		- 未提交读（read uncommited）
		- 已提交读（read commited）
		- 可重复读（repeatable read）
		- 可窜行化（serializable）
	- 持久性：一旦事务提交，则其所做的修改就会永久保存到数据库中。此时即使系统崩溃，已经提交的修改数据也不会丢失

- 大事务
	- 定义：运行时间长，操作的数据比较多的事务
	- 风险
		- 锁定太多的数据，造成大量的阻塞和超时
		- 回滚时所需时间比较长
		- 容易造成主从延迟

- 如何处理大事务
	- 避免一次处理太多的数据
	- 移除不必要在事务中的select操作
	